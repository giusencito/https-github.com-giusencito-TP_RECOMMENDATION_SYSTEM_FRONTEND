<app-navigaion-postulant></app-navigaion-postulant>



<div class="background">


  <br>
  <h1 class="text-1">
    Posibles empleos relacionados a tu Perfil
  </h1>
  <br>
  
  

  <div class="group" *ngIf="isLoading;else loadingSpinner">
  <div class="section1">
  <button mat-flat-button class="button" (click)="JobFilter()">Ordenar Trabajos</button>
  <br>
  <br>
  <br>

  <div class="container">
    <div class="scrollable-container">
    <div *ngFor="let job of jobsorder">
  
    <mat-card class="card">
  
      <div class="main">  
      
        <div class="first">
        <div class="progress-container">
          <mat-progress-spinner [diameter]="50" mode="determinate" [value]="job.posibilityPercentage"  color="#ff0000"></mat-progress-spinner>
          <span class="progress-number">{{job.posibilityPercentage}}%</span>
        </div>
       
        <br>
        <mat-icon class="icd">work</mat-icon>
        <br>
      <p class="title">{{job.jobName}}</p>
      <br>
      
      
      </div>
      
      <div class="second">
      <div class="location">
      <mat-icon class="iconsec"> location_on</mat-icon>
      <p class="textsec">{{job.jobLocation}}</p>
      </div>
      <div class="location">
        <mat-icon class="iconsec">business</mat-icon>
        <p class="textsec" style="padding-left: 5px;">{{job.jobCompany}}</p>
      </div>
      <p class="textsec">{{isRemote(job.jobName)}}</p>
      <p class="textsec">{{translate(job.jobDate)}}</p>
      </div>
      
      
      
      </div>
      
      
      
      
      <div class="extras">
        
      <button mat-raised-button class="btn2" (click)="gotoUrl(job.jobUrl)">Ver más</button>
      <button mat-raised-button class="btn2" (click)="openCourses(job.id)" [disabled]="questionsanswerslist.length == 0 && opencourses">
        <span>Cursos</span>
        <img src="../../../../assets/images/Next page.png" class="imgd">
        </button>
      <button mat-raised-button class="btn2" (click)="Postulate(job.id)" [disabled]="isPostulate[job.id]">Postulado</button>
      </div>
      
      
      </mat-card>
  
  
  
  
    </div>
    </div>
  </div>
  </div>
  
  
  
  
  <div style="margin-left: 250px;"></div>
  <div *ngIf="opencourses">
  <div *ngIf="courses.length && questionsanswerslist.length; else loadingSpinner">
    <div class="containercourse">  
    <mat-card class="coursecard">
      <div class="center">
        <p class="titlteousemain">Lista de 5 preguntas claves en entrevistas laborales para {{jobdataselected.jobName}}</p>
      </div>
      <mat-card class="coursesection" *ngFor="let questionanswerobject of questionsanswerslist">
        <div class="fromicon">
        <mat-icon class="courseicon">question_answer</mat-icon>
      </div>
        <p class="textforcouse">{{questionanswerobject.question}}</p>
          <div class="fromicon">
            <button mat-raised-button class="buttoncourse" (click)="openAnswer(questionanswerobject.answer)">Posible Respuesta</button>
          </div>
          
      </mat-card>

      <div class="center">
      <p class="titlteousemain">Lista de cursos de capacitación</p>
      </div>
    <mat-card class="coursesection" *ngFor="let course of courses">
      <div class="fromicon">
      <mat-icon class="courseicon">book</mat-icon>
    </div>
      <p class="textforcouse">{{course.courseName}}</p>
        <div class="fromicon">
          <button mat-raised-button class="buttoncourse" (click)="gotoCourseUrl(course.Url)">Ver más</button>
        </div>
        
    </mat-card>
    
    </mat-card>
    </div>
  </div>
</div>
  <!-- Spinner de carga -->
  <ng-template #loadingSpinner>
    <div class="loading-container">
      <mat-spinner diameter="50"></mat-spinner>
      <p style="padding-top: 5px;">Cargando</p>
    </div>
  </ng-template>

  </div>

  <ng-template #loadingSpinner>
    <div class="loading-container">
      <mat-spinner diameter="120"></mat-spinner>
    
    </div>
  </ng-template>


  
  <br>
  <br>
  <div class="center">
    <button mat-raised-button class="buttonreturn" (click)="GoToHome()">Volver a Home</button>
  </div>




</div>










